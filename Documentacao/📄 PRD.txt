üìÑ PRD: Agente Financeiro Ag√™ntico (Codinome: "Cortex Brasil")
1. Vis√£o Geral e Objetivo
Problema
O controle financeiro tradicional (planilhas e apps) falha por dois motivos: alto atrito de entrada (pregui√ßa de anotar) e falta de intelig√™ncia proativa (os dados ficam parados, sem gerar insights).
P√∫blico-alvo
Inicialmente, um grupo de 4 usu√°rios (2 casais) que buscam controle individual rigoroso, privacidade total e ferramentas para planejamento conjunto (viagens e metas).
Valor de Neg√≥cio
Validar um modelo de SaaS Ag√™ntico onde o custo de processamento √© internalizado (GPU Local) e a interface √© universal (WhatsApp), criando um produto de alta reten√ß√£o e custo operacional baix√≠ssimo.

2. Objetivos e M√©tricas (KPIs)

3. Funcionalidades (MoSCoW)
Must Have (Essencial)
Interface WhatsApp: Registro via texto e √°udio.
Processamento Local (RTX 5080): Integra√ß√£o com Whisper (transcri√ß√£o) e LLM (extra√ß√£o de dados).
Multi-tenancy Real: Isolamento completo de dados entre usu√°rios (RLS no banco de dados).
Gest√£o de Gastos/Ganhos: Categoriza√ß√£o autom√°tica e manual.
Parcelamentos: Divis√£o autom√°tica de compras futuras no fluxo de caixa.
Should Have (Importante)
Controle de Assinaturas: Identifica√ß√£o de cobran√ßas recorrentes.
Metas de Economia: Barra de progresso para objetivos espec√≠ficos (ex: Viagem Orlando).
Resumos Autom√°ticos: Relat√≥rios di√°rios/semanais proativos.
Could Have (Desej√°vel)
Modo Viagem: Convers√£o de moeda em tempo real e "rachamento" de contas de grupo.
Simulador de Amortiza√ß√£o: C√°lculos de antecipa√ß√£o de financiamento.
Dashboard Web: Visualiza√ß√£o gr√°fica simples via link protegido por token.
Won't Have (Fora de Escopo)
Open Banking: Conex√£o direta com contas banc√°rias (foco em registro manual/inteligente).

4. Experi√™ncia do Usu√°rio (UX)
Fluxo Principal
Input: Usu√°rio envia: "Paguei 120 de luz" ou √°udio: "Amor, gastei 50 no mercado no cart√£o de cr√©dito".
Processamento: O backend transcreve (se √°udio), a LLM extrai o JSON e valida as regras.
Feedback: O bot responde com um emoji de confirma√ß√£o e o saldo atual da categoria.
Alerta (Opcional): Se o gasto estourar uma meta, o "Cortex" interv√©m: "Isso te deixa R$ 100 acima do limite de Lazer. Quer ajustar algo?"

5. Casos de Uso (User Stories)
Como usu√°rio, quero registrar um gasto por √°udio enquanto dirijo, para que eu n√£o esque√ßa de anotar depois.
Como parceiro, quero ter uma carteira privada que minha esposa/marido n√£o veja, e uma carteira compartilhada para despesas da casa.
Como planejador, quero ver quantas parcelas de cart√£o ainda tenho para os pr√≥ximos 6 meses para saber se posso fazer uma nova compra grande.

6. Restri√ß√µes e Cronograma
Restri√ß√µes T√©cnicas
Stack: Python (FastAPI), PostgreSQL (Local), Docker.
Privacidade: Os dados devem ser criptografados em repouso. Nenhuma API de terceiros (al√©m do WhatsApp) deve ler os dados financeiros brutos.
Hardware: Todo o processamento de IA deve ocorrer na RTX 5080 local.
Cronograma Estimado (Sprints de 1 semana)
Semana 1: Setup de infra (Docker, Database, Cloudflare Tunnel) e integra√ß√£o b√°sica WhatsApp.
Semana 2: Implementa√ß√£o do motor de IA (Whisper + LLM Local) e extra√ß√£o de dados.
Semana 3: L√≥gica de parcelamento, recorr√™ncia e isolamento de usu√°rios.
Semana 4: Teste em grupo (Alpha) e refinamento do "Tom de Voz" do Cortex.
